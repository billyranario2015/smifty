$(function(){function t(t){return $(".overall-total .amount").html("$ "+t),!1}var a=!1,e=$("#currentorderid").val();$(".add-to-cart").click(function(a){var e=$(this).attr("data-id"),o=$(this).attr("data-amount"),r=$(this).attr("data-name"),n=$("#currentorderid").val(),d=$("#restaurant_id").val();$.ajax({url:"/ajax/order.php",type:"POST",dataType:"json",data:{intent:"add",foodid:e,orderid:n,name:r,amount:o,restid:d},success:function(a){$(".basket-slim").removeClass("collapsed"),t(a.total),$("#current-basket").append('<li id="'+a.result+'"><button class="removefood btn btn-default" data-foodid="'+a.result+'"><i class="fa fa-minus"></i></button>'+r+'<span class="amount"> $ '+o+"</span></li>"),$(".removefood").click(function(a){a.preventDefault();var e=$(this).attr("data-foodid");return $.ajax({url:"/ajax/order.php",type:"POST",dataType:"json",data:{intent:"delete",foodid:e,orderid:n},success:function(a){a.orders||$(".basket-slim").addClass("collapsed"),$("#"+e).remove(),t(a.total)},error:function(t){console.log(t.responseText)}}),!1})},error:function(t){$("#warnings").show().text("There is something wrong placing your order.  Please try again!"),console.log(t.responseText)}})}),$(".removefood").click(function(a){a.preventDefault();var o=$(this).attr("data-foodid");return $.ajax({url:"/ajax/order.php",type:"POST",dataType:"json",data:{intent:"delete",foodid:o,orderid:e},success:function(a){a.orders||$(".basket-slim").addClass("collapsed"),$("#"+o).remove(),t(a.total)},error:function(t){}}),!1})});